ALTER TABLE scheduled ADD COLUMN job_id VARCHAR(255);
ALTER TABLE users ADD COLUMN location VARCHAR(255);
ALTER TABLE users ADD COLUMN timezone VARCHAR(255);
ALTER TABLE daily_sessions ADD COLUMN session_timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;
ALTER TABLE daily_sessions DROP FOREIGN KEY daily_sessions_ibfk_2;
ALTER TABLE daily_sessions
ADD CONSTRAINT daily_sessions_ibfk_2
FOREIGN KEY (goal_id) REFERENCES subgoals(subgoal_id);
CREATE TABLE poll_mappings (
    poll_id VARCHAR(255) PRIMARY KEY,
    goal_id INT,
    user_id BIGINT(20),  -- Match the data type of username_id
    FOREIGN KEY (goal_id) REFERENCES goals(goal_id),
    FOREIGN KEY (user_id) REFERENCES users(username_id)âœ…
);
SELECT CONSTRAINT_NAME
FROM information_schema.KEY_COLUMN_USAGE
WHERE TABLE_NAME = 'scheduled' AND COLUMN_NAME = 'user_id';
ALTER TABLE scheduled DROP FOREIGN KEY scheduled_ibfk_1;
ALTER TABLE scheduled
ADD CONSTRAINT scheduled_ibfk_1
FOREIGN KEY (user_id) REFERENCES users(username_id) 
ON DELETE CASCADE;

SELECT CONSTRAINT_NAME
FROM information_schema.KEY_COLUMN_USAGE
WHERE TABLE_NAME = 'poll_mappings' AND COLUMN_NAME = 'goal_id';
SELECT CONSTRAINT_NAME
FROM information_schema.KEY_COLUMN_USAGE
WHERE TABLE_NAME = 'poll_mappings' AND COLUMN_NAME = 'user_id';
ALTER TABLE poll_mappings DROP FOREIGN KEY poll_mappings_ibfk_1;
ALTER TABLE poll_mappings DROP FOREIGN KEY poll_mappings_ibfk_2;
ALTER TABLE poll_mappings
ADD CONSTRAINT poll_mappings_ibfk_1
FOREIGN KEY (user_id) REFERENCES users(username_id) 
ON DELETE CASCADE;
ALTER TABLE poll_mappings
ADD CONSTRAINT poll_mappings_ibfk_2
FOREIGN KEY (goal_id) REFERENCES goals(goal_id) 
ON DELETE CASCADE;

